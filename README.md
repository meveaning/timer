# TimerApp - Mac菜单栏定时器应用

一个专业的Mac菜单栏定时器应用，支持自定义定时时长、菜单栏实时显示和自定义音乐提醒。符合Apple Store上架标准。

## 🎯 核心特性

### ✅ 菜单栏驻留应用
- **菜单栏图标**：启动后只在菜单栏显示，不占用Dock空间
- **实时显示**：菜单栏图标显示剩余时间（如"15:30"）
- **点击弹出**：点击菜单栏图标弹出控制界面

### ✅ 智能定时功能
- **预设时长**：15分钟、30分钟、45分钟、1小时快速选择
- **自定义时长**：支持任意分钟数输入
- **控制灵活**：启动、暂停、继续、重置完整控制

### ✅ 自定义音乐提醒
- **本地音频**：支持选择MP3、WAV、AIFF、M4A格式
- **音效管理**：可选择、重置自定义音效
- **智能回退**：自定义音效失败时自动使用系统提示音

### ✅ 专业级应用
- **Apple Store标准**：完整的应用包结构和配置
- **后台运行**：最小化后继续计时，不影响其他工作
- **高分辨率**：支持Retina显示，界面清晰美观

## 🚀 快速开始

### 方法一：双击启动（推荐）
1. 找到 `TimerApp.app` 文件
2. **直接双击**应用图标
3. 应用将在菜单栏显示时钟图标⏰

### 方法二：终端启动
```bash
cd /Users/wqz/Documents/work/tools/timer
open TimerApp.app
```

### 方法三：右键打开
如果双击无法启动：
1. 右键点击 `TimerApp.app`
2. 选择 **"打开"**
3. 确认安全提示

## 📁 项目结构

```
TimerApp/
├── 📄 README.md                    # 项目说明文档
├── 📄 定时器应用需求文档.md         # 需求规格说明
├── 📄 使用说明.md                  # 详细使用指南
├── 📄 开发文档.md                  # 技术架构说明
├── 📄 故障排除指南.md              # 问题解决方案
├── 📦 TimerApp.app                # 可执行应用包
├── 📜 Package.swift               # Swift包配置
├── 📜 Info.plist                  # 应用配置文件
├── 🔧 build-complete-app.sh       # 完整构建脚本
├── 🔧 create-proper-app.sh        # 应用创建脚本
├── 🔧 fix-app-bundle.sh           # 应用包修复脚本
└── 📂 Sources/                    # 源代码目录
    ├── 🎯 AppDelegate.swift       # 应用委托（菜单栏集成）
    ├── 🎨 ContentView.swift       # 用户界面
    └── ⚙️ TimerModel.swift        # 定时器核心逻辑
```

## 🛠️ 构建和开发

### 环境要求
- **操作系统**：macOS 12.0+
- **开发工具**：Xcode 或 Swift命令行工具

### 构建应用
```bash
# 使用完整构建脚本（推荐）
./build-complete-app.sh

# 或使用专用应用创建脚本
./create-proper-app.sh
```

### 开发调试
```bash
# 直接编译测试
swiftc Sources/*.swift -o TimerAppExec \
  -framework Cocoa -framework SwiftUI \
  -framework Combine -framework AVFoundation

# 修复应用包问题
./fix-app-bundle.sh
```

## 🎨 界面预览

应用启动后，您会看到：
- **菜单栏图标**：实时显示剩余时间或时钟图标
- **控制界面**：简洁美观的定时器控制面板
- **音效设置**：自定义音乐选择和状态显示

## 🔧 技术架构

### 开发技术栈
- **语言**：Swift 5.7+
- **UI框架**：SwiftUI
- **应用框架**：AppKit
- **音频处理**：AVFoundation
- **状态管理**：Combine

### 架构设计
- **MVVM模式**：清晰的数据流和界面分离
- **菜单栏应用**：专业的macOS应用集成
- **事件驱动**：响应式状态管理

## 📋 功能清单

### 已实现功能
- [x] 菜单栏实时时间显示
- [x] 预设时长快速选择
- [x] 自定义时长输入
- [x] 启动/暂停/重置控制
- [x] 自定义音乐选择
- [x] 后台持续运行
- [x] Apple Store标准应用包

### 扩展功能（计划中）
- [ ] 多定时器支持
- [ ] 定时器模板保存
- [ ] 使用历史统计
- [ ] iCloud同步
- [ ] 快捷指令集成

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发规范
- 遵循Swift代码规范
- 使用有意义的变量名
- 添加必要的注释
- 保持代码简洁清晰

## 📞 技术支持

如果遇到问题，请参考：
- [故障排除指南](故障排除指南.md)
- [使用说明文档](使用说明.md)
- 提交Issue到项目仓库

## 📄 许可证

本项目采用MIT许可证，详情见LICENSE文件。

---

**立即体验**：双击 `TimerApp.app` 开始使用专业的菜单栏定时器！