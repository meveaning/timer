# Mac定时器应用需求文档

## 项目概述

开发一个简洁易用的Mac定时器应用，用户可以自定义定时时长，定时结束后通过弹窗和音乐提醒用户。

## 核心功能需求

### 1. 定时器设置功能
- **自定义时长设置**：用户可以输入或选择定时时长（分钟/秒）
- **预设时长选项**：提供常用时长预设（如15分钟、30分钟、45分钟、1小时）
- **快速开始**：一键启动预设时长的定时器

### 2. 定时器控制功能
- **启动/暂停**：开始计时和暂停计时功能
- **重置**：重置定时器到初始状态
- **倒计时显示**：实时显示剩余时间
- **后台运行**：应用最小化或切换到其他应用时继续计时

### 3. 提醒功能
- **弹窗提醒**：定时结束时显示系统弹窗通知
- **声音提醒**：播放舒缓的音乐或提示音
- **多提醒方式**：允许用户选择提醒方式组合
- **重复提醒**：提醒未响应时可设置重复提醒间隔

### 4. 用户界面需求
- **简洁直观**：界面设计简洁，操作直观
- **状态显示**：清晰显示定时器当前状态（运行中、暂停、完成）
- **时间显示**：大字体显示剩余时间，易于查看
- **系统托盘**：支持在菜单栏显示快捷控制

## 技术规格

### 开发技术栈
- **开发语言**：Swift
- **开发框架**：SwiftUI 或 AppKit
- **音频播放**：AVFoundation
- **系统通知**：UserNotifications

### 系统要求
- **操作系统**：macOS 12.0+
- **硬件要求**：支持音频输出的Mac设备

### 性能要求
- **低资源占用**：后台运行时CPU和内存占用低
- **响应迅速**：用户操作响应时间<100ms
- **稳定性**：长时间运行不崩溃

## 功能详细描述

### 主界面设计
```
+-------------------------------+
|         定时器应用           |
+-------------------------------+
|                               |
|        [ 00:30:00 ]          |
|         剩余时间             |
|                               |
|  +-----------------------+   |
|  | 30分钟  | 1小时 | 自定义 |   |
|  +-----------------------+   |
|                               |
|  [开始计时]  [暂停]  [重置]   |
|                               |
| 提醒设置：                   |
| ☑ 弹窗提醒  ☑ 声音提醒       |
+-------------------------------+
```

### 自定义时长设置
- 支持分钟和秒的输入
- 输入验证：时长范围1秒-24小时
- 支持键盘快捷键操作

### 提醒音效选项
- 默认舒缓音乐
- 系统提示音
- 自定义音效文件支持
- 音量控制

## 用户交互流程

### 基本使用流程
1. 用户打开应用
2. 选择预设时长或输入自定义时长
3. 选择提醒方式
4. 点击"开始计时"
5. 应用开始倒计时
6. 定时结束，触发提醒
7. 用户确认提醒，定时器重置

### 高级功能流程
- **暂停/继续**：用户可随时暂停和继续计时
- **后台运行**：应用最小化后继续计时
- **菜单栏控制**：通过菜单栏图标快速控制

## 非功能性需求

### 可用性
- 界面直观，无需学习即可使用
- 支持键盘快捷键操作
- 清晰的视觉反馈

### 可靠性
- 定时准确，不受系统休眠影响
- 应用崩溃后能恢复定时状态
- 提醒功能稳定可靠

### 可维护性
- 代码结构清晰，易于扩展
- 模块化设计，便于测试

## 开发计划

### 第一阶段：核心功能
- 基础定时器功能
- 简单界面实现
- 基本提醒功能

### 第二阶段：完善功能
- 菜单栏支持
- 自定义音效
- 设置保存

### 第三阶段：优化体验
- 性能优化
- 界面美化
- 用户体验测试

## 后续扩展可能性

1. **多定时器支持**：同时运行多个定时器
2. **定时器模板**：保存常用定时器设置
3. **统计功能**：记录定时器使用历史
4. **iCloud同步**：多设备间同步设置
5. **快捷指令支持**：通过Siri快捷指令控制

---

*本文档将根据开发进展和用户反馈持续更新*